(this["webpackJsonpfront-metrics"]=this["webpackJsonpfront-metrics"]||[]).push([[0],{834:function(e,t,r){"use strict";r.r(t);var c,n,i,o,a,s,l,j,p,b=r(35),m=r(10),d=r(0),O=r.n(d),u=r(41),x=r.n(u),y=r(3),f=r(15),h=r(128),C=r(26),g=r(105),v=r(261),T=function e(t,r){if(0===r.length)return t;var c=Object(v.a)(r),n=c[0],i=c.slice(1);return"file"===t.type||void 0===n?t:e(t.children[n],i)},I=function(e){return e<.4?["danger",40]:e<.6?["danger",20]:e<.8?["warning",40]:e<.95?["warning",20]:e<1?["primary",20]:["primary",40]},S=Object(y.default)(m.Table.Cell)(c||(c=Object(b.a)(["\n  background-color: ",";\n"])),(function(e){var t=Object(f.a)(e.color,2),r=t[0],c=t[1];return Object(m.getColorForLevel)(r,c)})),w=r(2),D=y.default.div(n||(n=Object(b.a)(["\n  margin: 20px 0;\n  display: flex;\n  justify-content: space-between;\n"]))),L=Object(y.default)(m.IconCard)(i||(i=Object(b.a)(["\n  & > div:nth-child(2) > div:nth-child(1),\n  svg {\n    color: ",";\n  }\n"])),(function(e){var t=Object(f.a)(e.color,2),r=t[0],c=t[1];return Object(m.getColorForLevel)(r,c+40)})),k=function(e){var t=e.report,r=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2});return Object(w.jsxs)(D,{children:[Object(w.jsx)(L,{color:I(t.metrics.typescript/(t.metrics.javascript+t.metrics.typescript)),label:r.format(t.metrics.typescript/(t.metrics.javascript+t.metrics.typescript)),icon:Object(w.jsx)(m.ActivityIcon,{}),content:"Typescript ratio"}),Object(w.jsx)(L,{color:I(t.metrics.typescriptLOC/(t.metrics.javascriptLOC+t.metrics.typescriptLOC)),label:t.metrics.requireInTypescript.toString(),icon:Object(w.jsx)(m.AttributeLinkIcon,{}),content:"Require in typescript"}),Object(w.jsx)(L,{color:[0<t.metrics.requireInTypescript?"danger":"primary",60],label:t.metrics.defineInJavascript.toString(),icon:Object(w.jsx)(m.AssociateIcon,{}),content:"Number of legacy files"}),Object(w.jsx)(L,{color:[0<t.metrics.requireInTypescript?"danger":"primary",60],label:t.metrics.reactClassComponent.toString(),icon:Object(w.jsx)(m.RefreshIcon,{}),content:"React classes"}),Object(w.jsx)(L,{color:[0<t.metrics.bemInTypescript?"danger":"primary",60],label:t.metrics.bemInTypescript.toString(),icon:Object(w.jsx)(m.EntityMultiIcon,{}),content:"BEM in typescript"}),Object(w.jsx)(L,{color:[0<t.metrics.reactController?"danger":"primary",60],label:t.metrics.reactController.toString(),icon:Object(w.jsx)(m.FactoryIcon,{}),content:"Legacy bridges"}),Object(w.jsx)(L,{color:[0<t.metrics.backboneController?"danger":"primary",60],label:t.metrics.backboneController.toString(),icon:Object(w.jsx)(m.ComponentIcon,{}),content:"Backbone controllers"})]})},N=function(e){var t=function(e,t){var r=localStorage.getItem(t),c=Object(d.useState)(null!==r?JSON.parse(r):e),n=Object(f.a)(c,2),i=n[0],o=n[1];return Object(d.useEffect)((function(){localStorage.setItem(t,JSON.stringify(i))}),[i,t]),[i,o]}({columnName:null,sortDirection:"none"},"sort_state"),r=Object(f.a)(t,2),c=r[0],n=r[1];return[Object(d.useMemo)((function(){return function(e,t,r){return null===t?e:"name"===t?Object(g.a)(e).sort((function(e,t){return"ascending"===r?e.name.localeCompare(t.name):t.name.localeCompare(e.name)})):Object(g.a)(e).sort((function(e,c){return"ascending"===r?e.metrics[t]-c.metrics[t]:c.metrics[t]-e.metrics[t]}))}(e,c.columnName,c.sortDirection)}),[c,e]),function(e){return e!==c.columnName?"none":c.sortDirection},function(e){return function(t){n({columnName:e,sortDirection:t})}}]},R=r(836),B=r(837),q=r(275),F=r(276),H=r(108),J=r(279),E=y.default.div(o||(o=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n"]))),M=function(e){var t=e.reportRoots,r=e.label,c=function(e,t){return e.map((function(e){return{value:e.metrics[t],time:e.reportName}}))}(t,e.metric);return Object(w.jsxs)(E,{children:[Object(w.jsx)(m.SectionTitle,{children:Object(w.jsx)(m.SectionTitle.Title,{children:r})}),Object(w.jsx)(R.a,{width:"95%",height:400,children:Object(w.jsxs)(B.a,{data:c,children:[Object(w.jsx)(q.a,{dataKey:"time",name:"Time",tickFormatter:function(e){return new Date(e).toLocaleDateString("en-US")},type:"category"}),Object(w.jsx)(F.a,{dataKey:"value",name:"Value"}),Object(w.jsx)(H.a,{}),Object(w.jsx)(J.a,{type:"monotone",dataKey:"value",stroke:"#8884d8",dot:!1})]})})]})},z=y.default.div(a||(a=Object(b.a)(["\n  margin-top: 20px;\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-gap: 20px;\n"]))),A=function(e){var t=e.reportRoots,r={typescriptLOC:"Typescript line of code",javascriptLOC:"Javascript line of code",requireInJavascript:"Require in javascript",requireInTypescript:"Require in typescript",reactClassComponent:"React classes",bemInTypescript:"BEM in typescript",reactController:"Legacy bridges",backboneController:"Backbone controllers"};return Object(w.jsx)(z,{children:Object.keys(r).map((function(e){return Object(w.jsx)(M,{metric:e,label:r[e],reportRoots:t},e)}))})},K=y.default.div(s||(s=Object(b.a)(["\n  display: flex;\n"]))),U=function(e){return"clipboard"in navigator&&navigator.clipboard.writeText(e)},P=Object(y.default)(m.Table.Cell)(l||(l=Object(b.a)(["\n  & > div {\n    display: flex;\n    justify-content: space-between;\n  }\n"]))),G=y.default.div(j||(j=Object(b.a)(["\n  flex: 1;\n"]))),V=function(e){var t=e.report,r=e.reportName,c=e.reports,n=e.onReportChange,i=Object(C.f)().url,o=i.substring(1),a=o?o.split("/"):[],s=T(t,a),l=N("file"===s.type?[]:Object.values(s.children)),j=Object(f.a)(l,3),p=j[0],b=j[1],O=j[2],u=Object(m.useBooleanState)(),x=Object(f.a)(u,3),y=x[0],v=x[1],D=x[2],L=Object(d.useMemo)((function(){return Object(g.a)(c).sort((function(e,t){return t.reportName.localeCompare(e.reportName)}))}),[c]);return"file"===s.type?null:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(K,{children:[Object(w.jsxs)(m.Breadcrumb,{children:[Object(w.jsx)(m.Breadcrumb.Step,{href:"#/",children:"Root"}),a.map((function(e){return Object(w.jsx)(m.Breadcrumb.Step,{href:"#".concat(i.substring(0,i.indexOf(e))).concat(e),children:e},e)}))]}),Object(w.jsx)(G,{}),Object(w.jsxs)(m.Dropdown,{children:[Object(w.jsx)(m.SwitcherButton,{label:"Report",onClick:v,children:r}),y&&Object(w.jsxs)(m.Dropdown.Overlay,{verticalPosition:"down",onClose:D,children:[Object(w.jsx)(m.Dropdown.Header,{children:Object(w.jsx)(m.Dropdown.Title,{children:"Reports"})}),Object(w.jsx)(m.Dropdown.ItemCollection,{children:L.map((function(e){return Object(w.jsx)(m.Dropdown.Item,{onClick:function(){n(e.reportName),D()},children:e.reportName},e.reportName)}))})]})]})]}),Object(w.jsx)(k,{report:s}),Object(w.jsxs)(m.Table,{children:[Object(w.jsxs)(m.Table.Header,{sticky:0,children:[Object(w.jsx)(m.Table.HeaderCell,{isSortable:!0,onDirectionChange:O("name"),sortDirection:b("name"),children:"Name"}),Object(w.jsx)(m.Table.HeaderCell,{children:"Typescript ratio (File)"}),Object(w.jsx)(m.Table.HeaderCell,{children:"Typescript ratio (LOC)"}),Object(w.jsx)(m.Table.HeaderCell,{isSortable:!0,onDirectionChange:O("requireInTypescript"),sortDirection:b("requireInTypescript"),children:"Require in typescript"}),Object(w.jsx)(m.Table.HeaderCell,{isSortable:!0,onDirectionChange:O("defineInJavascript"),sortDirection:b("defineInJavascript"),children:"Number of legacy files"}),Object(w.jsx)(m.Table.HeaderCell,{isSortable:!0,onDirectionChange:O("reactClassComponent"),sortDirection:b("reactClassComponent"),children:"React classes"}),Object(w.jsx)(m.Table.HeaderCell,{isSortable:!0,onDirectionChange:O("bemInTypescript"),sortDirection:b("bemInTypescript"),children:"BEM in typescript"}),Object(w.jsx)(m.Table.HeaderCell,{isSortable:!0,onDirectionChange:O("reactController"),sortDirection:b("reactController"),children:"Legacy bridges"}),Object(w.jsx)(m.Table.HeaderCell,{isSortable:!0,onDirectionChange:O("backboneController"),sortDirection:b("backboneController"),children:"Backbone controllers"})]}),Object(w.jsx)(m.Table.Body,{children:p.map((function(e){var t="/"===i?"/".concat(e.name):"".concat(i,"/").concat(e.name),r=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2});return Object(w.jsxs)(m.Table.Row,{children:[Object(w.jsxs)(P,{children:["file"===e.type?Object(w.jsx)(m.FileIcon,{size:20}):Object(w.jsx)(m.FolderIcon,{size:20}),"\xa0\xa0","file"===e.type?e.name:Object(w.jsx)(h.b,{to:t,children:e.name}),Object(w.jsx)(m.IconButton,{size:"small",ghost:"borderless",level:"tertiary",icon:Object(w.jsx)(m.CopyIcon,{}),title:"Copy to clipboard",onClick:function(){return U(e.path)}}),Object(w.jsx)(G,{}),"directory"===e.type&&Object(w.jsxs)(m.Badge,{children:[e.metrics.javascriptLOC+e.metrics.typescriptLOC," |"," ",e.metrics.javascript+e.metrics.typescript]})]}),Object(w.jsxs)(S,{color:I(e.metrics.typescript/(e.metrics.javascript+e.metrics.typescript)),title:"".concat(e.metrics.typescript," / ").concat(e.metrics.javascript+e.metrics.typescript),children:[r.format(e.metrics.typescript/(e.metrics.javascript+e.metrics.typescript))," ","(",e.metrics.javascript," javascript files)"]}),Object(w.jsxs)(S,{color:I(e.metrics.typescriptLOC/(e.metrics.javascriptLOC+e.metrics.typescriptLOC)),title:"".concat(e.metrics.typescriptLOC," / ").concat(e.metrics.javascriptLOC+e.metrics.typescriptLOC),children:[r.format(e.metrics.typescriptLOC/(e.metrics.javascriptLOC+e.metrics.typescriptLOC))," ","(",e.metrics.javascriptLOC," javascript LOC)"]}),Object(w.jsx)(S,{color:[0<e.metrics.requireInTypescript?"danger":"primary",40],children:e.metrics.requireInTypescript}),Object(w.jsx)(m.Table.Cell,{children:e.metrics.defineInJavascript}),Object(w.jsx)(S,{color:[0<e.metrics.reactClassComponent?"danger":"primary",40],children:e.metrics.reactClassComponent}),Object(w.jsx)(S,{color:[0<e.metrics.bemInTypescript?"danger":"primary",40],children:e.metrics.bemInTypescript}),Object(w.jsx)(m.Table.Cell,{children:e.metrics.reactController}),Object(w.jsx)(m.Table.Cell,{children:e.metrics.backboneController})]},e.name)}))})]}),0===a.length&&Object(w.jsx)(A,{reportRoots:c})]})},_=r(66),Q=r.n(_),W=r(178),X=function(){var e=function(){var e=Object(d.useState)(null),t=Object(f.a)(e,2),r=t[0],c=t[1],n=Object(d.useState)(null),i=Object(f.a)(n,2),o=i[0],a=i[1],s=Object(d.useState)([]),l=Object(f.a)(s,2),j=l[0],p=l[1];return Object(d.useEffect)((function(){Object(W.a)(Q.a.mark((function e(){var t,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./reports.json");case 2:return t=e.sent,e.next=5,t.json();case 5:r=e.sent,p(r),c(r[r.length-1].reportName);case 8:case"end":return e.stop()}}),e)})))()}),[]),Object(d.useEffect)((function(){r&&Object(W.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./reports/".concat(r,".json"));case 2:return t=e.sent,e.t0=a,e.next=6,t.json();case 6:e.t1=e.sent,(0,e.t0)(e.t1);case 8:case"end":return e.stop()}}),e)})))()}),[r]),[o,r,j,c]}(),t=Object(f.a)(e,4),r=t[0],c=t[1],n=t[2],i=t[3];return null===r?Object(w.jsx)("div",{children:"Loading"}):Object(w.jsx)(h.a,{children:Object(w.jsxs)(C.c,{children:[Object(w.jsx)(C.a,{exact:!0,path:"/:path+/",children:Object(w.jsx)(V,{report:r,reports:n,reportName:c,onReportChange:i})}),Object(w.jsx)(C.a,{exact:!0,path:"/",children:Object(w.jsx)(V,{report:r,reports:n,reportName:c,onReportChange:i})})]})})},Y=Object(y.createGlobalStyle)(p||(p=Object(b.a)(["\n  body {\n    margin: 0;\n    padding: 20px;\n    ",";\n  }\n"])),m.CommonStyle);0!==window.location.hash.indexOf("#/")&&(window.location.href="".concat(window.location.href,"/#/")),x.a.render(Object(w.jsx)(O.a.StrictMode,{children:Object(w.jsxs)(y.ThemeProvider,{theme:m.onboarderTheme,children:[Object(w.jsx)(Y,{}),Object(w.jsx)(X,{})]})}),document.getElementById("root"))}},[[834,1,2]]]);
//# sourceMappingURL=main.289ebc71.chunk.js.map