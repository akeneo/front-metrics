(this["webpackJsonpfront-metrics"]=this["webpackJsonpfront-metrics"]||[]).push([[0],{552:function(e,t,r){"use strict";r.r(t);var c,n,i,o,s,a,l,j=r(23),p=r(4),b=r(0),m=r.n(b),d=r(26),O=r.n(d),u=r(2),x=r(13),h=r(55),f=r(10),y=r(131),C=function e(t,r){if(0===r.length||r.every((function(e){return""===e})))return t;var c=Object(y.a)(r),n=c[0],i=c.slice(1);return"file"===t.type||void 0===n?t:e(t.children[n],i)},g=function(e){return e<.4?["danger",40]:e<.6?["danger",20]:e<.8?["warning",40]:e<.95?["warning",20]:e<1?["primary",20]:["primary",40]},v=Object(u.default)(p.Table.Cell)(c||(c=Object(j.a)(["\n  background-color: ",";\n"])),(function(e){var t=Object(x.a)(e.color,2),r=t[0],c=t[1];return Object(p.getColorForLevel)(r,c)})),T=r(3),I=u.default.div(n||(n=Object(j.a)(["\n  margin: 20px 0;\n  display: flex;\n  justify-content: space-between;\n"]))),S=Object(u.default)(p.IconCard)(i||(i=Object(j.a)(["\n  & > div:nth-child(2) > div:nth-child(1),\n  svg {\n    color: ",";\n  }\n"])),(function(e){var t=Object(x.a)(e.color,2),r=t[0],c=t[1];return Object(p.getColorForLevel)(r,c+40)})),w=function(e){var t=e.report,r=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2});return Object(T.jsxs)(I,{children:[Object(T.jsx)(S,{color:g(t.metrics.typescript/(t.metrics.javascript+t.metrics.typescript)),label:r.format(t.metrics.typescript/(t.metrics.javascript+t.metrics.typescript)),icon:Object(T.jsx)(p.ActivityIcon,{}),content:"Typescript ratio"}),Object(T.jsx)(S,{color:g(t.metrics.typescriptLOC/(t.metrics.javascriptLOC+t.metrics.typescriptLOC)),label:t.metrics.requireInTypescript.toString(),icon:Object(T.jsx)(p.AttributeLinkIcon,{}),content:"Require in typescript"}),Object(T.jsx)(S,{color:[0<t.metrics.requireInTypescript?"danger":"primary",60],label:t.metrics.defineInJavascript.toString(),icon:Object(T.jsx)(p.AssociateIcon,{}),content:"Number of legacy files"}),Object(T.jsx)(S,{color:[0<t.metrics.requireInTypescript?"danger":"primary",60],label:t.metrics.reactClassComponent.toString(),icon:Object(T.jsx)(p.RefreshIcon,{}),content:"React classes"}),Object(T.jsx)(S,{color:[0<t.metrics.bemInTypescript?"danger":"primary",60],label:t.metrics.bemInTypescript.toString(),icon:Object(T.jsx)(p.EntityMultiIcon,{}),content:"BEM in typescript"}),Object(T.jsx)(S,{color:[0<t.metrics.reactController?"danger":"primary",60],label:t.metrics.reactController.toString(),icon:Object(T.jsx)(p.FactoryIcon,{}),content:"Legacy bridges"}),Object(T.jsx)(S,{color:[0<t.metrics.backboneController?"danger":"primary",60],label:t.metrics.backboneController.toString(),icon:Object(T.jsx)(p.ComponentIcon,{}),content:"Backbone controllers"})]})},D=r(84),L=function(e){var t=function(e,t){var r=localStorage.getItem(t),c=Object(b.useState)(null!==r?JSON.parse(r):e),n=Object(x.a)(c,2),i=n[0],o=n[1];return Object(b.useEffect)((function(){localStorage.setItem(t,JSON.stringify(i))}),[i,t]),[i,o]}({columnName:null,sortDirection:"none"},"sort_state"),r=Object(x.a)(t,2),c=r[0],n=r[1];return[Object(b.useMemo)((function(){return function(e,t,r){return null===t?e:"name"===t?Object(D.a)(e).sort((function(e,t){return"ascending"===r?e.name.localeCompare(t.name):t.name.localeCompare(e.name)})):Object(D.a)(e).sort((function(e,c){return"ascending"===r?e.metrics[t]-c.metrics[t]:c.metrics[t]-e.metrics[t]}))}(e,c.columnName,c.sortDirection)}),[c,e]),function(e){return e!==c.columnName?"none":c.sortDirection},function(e){return function(t){n({columnName:e,sortDirection:t})}}]},N=u.default.div(o||(o=Object(j.a)(["\n  display: flex;\n"]))),k=function(e){return"clipboard"in navigator&&navigator.clipboard.writeText(e)},B=Object(u.default)(p.Table.Cell)(s||(s=Object(j.a)(["\n  & > div {\n    display: flex;\n    justify-content: space-between;\n  }\n"]))),R=u.default.div(a||(a=Object(j.a)(["\n  flex: 1;\n"]))),F=function(e){var t=e.report,r=e.reportName,c=e.reports,n=e.onReportChange,i=Object(f.f)().url,o=i.split("/").slice(1),s=C(t,o),a=L("file"===s.type?[]:Object.values(s.children)),l=Object(x.a)(a,3),j=l[0],b=l[1],m=l[2],d=Object(p.useBooleanState)(),O=Object(x.a)(d,3),u=O[0],y=O[1],I=O[2];return"file"===s.type?null:Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(N,{children:[Object(T.jsxs)(p.Breadcrumb,{children:[Object(T.jsx)(p.Breadcrumb.Step,{href:"#/",children:"Root"}),o.map((function(e){return Object(T.jsx)(p.Breadcrumb.Step,{href:"#".concat(i.substring(0,i.indexOf(e))).concat(e),children:e},e)}))]}),Object(T.jsx)(R,{}),Object(T.jsxs)(p.Dropdown,{children:[Object(T.jsx)(p.SwitcherButton,{label:"Report",onClick:y,children:r}),u&&Object(T.jsxs)(p.Dropdown.Overlay,{verticalPosition:"down",onClose:I,children:[Object(T.jsx)(p.Dropdown.Header,{children:Object(T.jsx)(p.Dropdown.Title,{children:"Reports"})}),Object(T.jsx)(p.Dropdown.ItemCollection,{children:c.map((function(e){return Object(T.jsx)(p.Dropdown.Item,{onClick:function(){n(e.reportName),I()},children:e.reportName},e.reportName)}))})]})]})]}),Object(T.jsx)(w,{report:s}),Object(T.jsxs)(p.Table,{children:[Object(T.jsxs)(p.Table.Header,{sticky:0,children:[Object(T.jsx)(p.Table.HeaderCell,{isSortable:!0,onDirectionChange:m("name"),sortDirection:b("name"),children:"Name"}),Object(T.jsx)(p.Table.HeaderCell,{children:"Typescript ratio (File)"}),Object(T.jsx)(p.Table.HeaderCell,{children:"Typescript ratio (LOC)"}),Object(T.jsx)(p.Table.HeaderCell,{isSortable:!0,onDirectionChange:m("requireInTypescript"),sortDirection:b("requireInTypescript"),children:"Require in typescript"}),Object(T.jsx)(p.Table.HeaderCell,{isSortable:!0,onDirectionChange:m("defineInJavascript"),sortDirection:b("defineInJavascript"),children:"Number of legacy files"}),Object(T.jsx)(p.Table.HeaderCell,{isSortable:!0,onDirectionChange:m("reactClassComponent"),sortDirection:b("reactClassComponent"),children:"React classes"}),Object(T.jsx)(p.Table.HeaderCell,{isSortable:!0,onDirectionChange:m("bemInTypescript"),sortDirection:b("bemInTypescript"),children:"BEM in typescript"}),Object(T.jsx)(p.Table.HeaderCell,{isSortable:!0,onDirectionChange:m("reactController"),sortDirection:b("reactController"),children:"Legacy bridges"}),Object(T.jsx)(p.Table.HeaderCell,{isSortable:!0,onDirectionChange:m("backboneController"),sortDirection:b("backboneController"),children:"Backbone controllers"})]}),Object(T.jsx)(p.Table.Body,{children:j.map((function(e){var t="/"===i?"/".concat(e.name):"".concat(i,"/").concat(e.name),r=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2});return Object(T.jsxs)(p.Table.Row,{children:[Object(T.jsxs)(B,{children:["file"===e.type?Object(T.jsx)(p.FileIcon,{size:20}):Object(T.jsx)(p.FolderIcon,{size:20}),"\xa0\xa0","file"===e.type?e.name:Object(T.jsx)(h.b,{to:t,children:e.name}),Object(T.jsx)(p.IconButton,{size:"small",ghost:"borderless",level:"tertiary",icon:Object(T.jsx)(p.CopyIcon,{}),title:"Copy to clipboard",onClick:function(){return k(e.path)}}),Object(T.jsx)(R,{}),"directory"===e.type&&Object(T.jsxs)(p.Badge,{children:[e.metrics.javascriptLOC+e.metrics.typescriptLOC," |"," ",e.metrics.javascript+e.metrics.typescript]})]}),Object(T.jsxs)(v,{color:g(e.metrics.typescript/(e.metrics.javascript+e.metrics.typescript)),title:"".concat(e.metrics.typescript," / ").concat(e.metrics.javascript+e.metrics.typescript),children:[r.format(e.metrics.typescript/(e.metrics.javascript+e.metrics.typescript))," ","(",e.metrics.javascript," javascript files)"]}),Object(T.jsxs)(v,{color:g(e.metrics.typescriptLOC/(e.metrics.javascriptLOC+e.metrics.typescriptLOC)),title:"".concat(e.metrics.typescriptLOC," / ").concat(e.metrics.javascriptLOC+e.metrics.typescriptLOC),children:[r.format(e.metrics.typescriptLOC/(e.metrics.javascriptLOC+e.metrics.typescriptLOC))," ","(",e.metrics.javascriptLOC," javascript LOC)"]}),Object(T.jsx)(v,{color:[0<e.metrics.requireInTypescript?"danger":"primary",40],children:e.metrics.requireInTypescript}),Object(T.jsx)(p.Table.Cell,{children:e.metrics.defineInJavascript}),Object(T.jsx)(v,{color:[0<e.metrics.reactClassComponent?"danger":"primary",40],children:e.metrics.reactClassComponent}),Object(T.jsx)(v,{color:[0<e.metrics.bemInTypescript?"danger":"primary",40],children:e.metrics.bemInTypescript}),Object(T.jsx)(p.Table.Cell,{children:e.metrics.reactController}),Object(T.jsx)(p.Table.Cell,{children:e.metrics.backboneController})]},e.name)}))})]})]})},H=r(46),q=r.n(H),J=r(83),E=function(){var e=function(){var e=Object(b.useState)(null),t=Object(x.a)(e,2),r=t[0],c=t[1],n=Object(b.useState)(null),i=Object(x.a)(n,2),o=i[0],s=i[1],a=Object(b.useState)([]),l=Object(x.a)(a,2),j=l[0],p=l[1];return Object(b.useEffect)((function(){Object(J.a)(q.a.mark((function e(){var t,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./reports.json");case 2:return t=e.sent,e.next=5,t.json();case 5:r=e.sent,p(r),c(r[0].reportName);case 8:case"end":return e.stop()}}),e)})))()}),[]),Object(b.useEffect)((function(){r&&Object(J.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./reports/".concat(r,".json"));case 2:return t=e.sent,e.t0=s,e.next=6,t.json();case 6:e.t1=e.sent,(0,e.t0)(e.t1);case 8:case"end":return e.stop()}}),e)})))()}),[r]),[o,r,j,c]}(),t=Object(x.a)(e,4),r=t[0],c=t[1],n=t[2],i=t[3];return null===r?Object(T.jsx)("div",{children:"Loading"}):Object(T.jsx)(h.a,{children:Object(T.jsxs)(f.c,{children:[Object(T.jsx)(f.a,{exact:!0,path:"/:path+/",children:Object(T.jsx)(F,{report:r,reports:n,reportName:c,onReportChange:i})}),Object(T.jsx)(f.a,{exact:!0,path:"/",children:Object(T.jsx)(F,{report:r,reports:n,reportName:c,onReportChange:i})})]})})},M=Object(u.createGlobalStyle)(l||(l=Object(j.a)(["\n  body {\n    margin: 0;\n    padding: 20px;\n    ",";\n  }\n"])),p.CommonStyle);0!==window.location.hash.indexOf("#/")&&(window.location.href="".concat(window.location.href,"/#/")),O.a.render(Object(T.jsx)(m.a.StrictMode,{children:Object(T.jsxs)(u.ThemeProvider,{theme:p.onboarderTheme,children:[Object(T.jsx)(M,{}),Object(T.jsx)(E,{})]})}),document.getElementById("root"))}},[[552,1,2]]]);
//# sourceMappingURL=main.7be08459.chunk.js.map